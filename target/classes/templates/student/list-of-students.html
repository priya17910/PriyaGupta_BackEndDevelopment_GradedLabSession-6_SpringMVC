<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/fontawesome.min.css">
	<title>Student Registration</title>
</head>

<body>
	<div class="container-fluid d-flex"
		style="justify-content: space-between;padding: 1vmax;background-color: #343a40;color: white;">
		<span style="padding-right: 1vmax; font-weight: bold; font-size: 1.3vmax;">Student Registration System</span>
		<span style="padding-right: 1vmax;"><a href="/students/list" style="color: gainsboro;font-size: 1vmax;">Student
				List</a></span>
		<a th:href="@{/students/logout}"
			style="float: right; font-weight: bold; font-size: 1.3vmax;color: white;">Logout</a>
	</div>
	<div class="container-fluid d-flex justify-content-center" style="width: 70%;">
		<div class="container-fluid">
			<h3 style="font-weight: bold;">
				List Of Students
			</h3>
		</div>
		<div class="container-fluid">
			<form class="form-inline" th:action="@{/students/showStudentFormForAdd}">
				<button class="btn btn-primary mr-sm-2" type="submit">Add Student</button>
			</form>
		</div>
		<div class="container-fluid mt-5 pt-2 border">
			<br />
			<div th:if="${param.ed}">
				<div class="alert alert-success">
					Student List Updated Successfully
				</div>
			</div>
			<div th:if="${param.del}">
				<div class="alert alert-danger">
					Student Deleted Successfully
				</div>
			</div>
			<table class="table table-striped text-center">
				<thead>
					<tr style="background-color: black;color: white;">
						<th class="text-center">ID</th>
						<th class="text-center">First Name</th>
						<th class="text-center">Last Name</th>
						<th class="text-center">Course</th>
						<th class="text-center">Country</th>
						<th class="text-center">Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="student, iState:${students}">
						<td th:text="${iState.count}"></td>
						<td th:text="${student.firstname}"></td>
						<td th:text="${student.lastname}"></td>
						<td th:text="${student.course}"></td>
						<td th:text="${student.country}"></td>
						<td>
							<a class="btn btn-primary 
					mr-sm-2" th:href="@{/students/showStudentFormForEdit/{id}(id=${student.id})}">Update</a>
							<a class="btn btn-danger mr-sm-2" th:href="@{/students/delete/{id}(id=${student.id})}"
								onclick="if (!(confirm('Are you sure you want to delete this student?'))) return false">Delete</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>

</html>